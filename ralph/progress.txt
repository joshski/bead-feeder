# Progress Log

## 2026-01-13
- **bead-feeder-qdp**: Initialize Vite React TypeScript project with vitest, testing-library
- **bead-feeder-4lc**: Set up React Router v7 with DagView and IssueDetail pages

## 2026-01-14
- **bead-feeder-60x**: Add React Flow library for DAG visualization
- **bead-feeder-5ls**: Enhance DagCanvas with pan/zoom controls, Background, Controls components
- **bead-feeder-be4**: Create custom IssueNode component with status/type/priority display
- **bead-feeder-o15**: Create GET /api/issues endpoint (calls bd list --json)
- **bead-feeder-8mt**: Create GET /api/graph endpoint (calls bd graph --all --json)
- **bead-feeder-cnl**: Transform issues to React Flow nodes with grid layout
- **bead-feeder-8jb**: Transform dependencies to React Flow edges
- **bead-feeder-8gq**: Implement DAG layout algorithm using dagre
- **bead-feeder-02x**: Create POST /api/issues endpoint for issue creation
- **bead-feeder-maj**: Add CreateIssueModal with FAB trigger
- **bead-feeder-5yh**: Create POST /api/dependencies endpoint
- **bead-feeder-360**: Enable edge creation by connecting nodes via drag
- **bead-feeder-mxu**: Add ChatPanel component with markdown rendering
- **bead-feeder-juk**: Integrate Anthropic Claude API with SSE streaming
- **bead-feeder-bdg**: Define LLM tools for graph manipulation (create_issue, add_dependency, etc.)
- **bead-feeder-zic**: Execute LLM tool calls with agentic loop, refresh graph on updates
- **bead-feeder-bnd**: Configure GitHub OAuth environment variables
- **bead-feeder-dl9**: Implement GitHub OAuth login flow with secure token storage
- **bead-feeder-lf5**: Fix linting warnings in test files
- **bead-feeder-7j9**: Clean up test artifact issues
- **bead-feeder-226**: Create git-service for authenticated git operations
- **bead-feeder-3e5**: Add RepositorySelector UI with .beads detection
- **bead-feeder-ksp**: Implement background SyncQueue for git operations
- **bead-feeder-zyf**: Add SyncStatusIndicator with SSE updates and toast notifications
- **bead-feeder-7d9**: Handle sync conflicts with retry, backoff, and resolution UI
- **bead-feeder-6w9**: Pass repository context to graph API for remote repo support
- **bead-feeder-trx**: Add structured logging to API server
- **bead-feeder-6s0**: Create combined dev script running Vite + API servers
- **bead-feeder-8og**: Mock bd CLI in tests to stop creating test artifact issues
- **bead-feeder-dh7**: Add Playwright script for GitHub login e2e testing
- **bead-feeder-uko**: E2E test: sign in, OAuth, select repo, verify issues in DAG
- **bead-feeder-q62**: Use system sans-serif font in UI
- **bead-feeder-22z**: Add unified e2e test runner (scripts/e2e.ts)
- **bead-feeder-doh**: Fix DAG edges for local /local route, CORS credentials handling
- **bead-feeder-704**: Remove Claude verification from e2e test

## 2026-01-15
- **bead-feeder-yjy**: Add debug logging throughout DAG rendering pipeline
- **bead-feeder-2lh**: Clone test repo into temp directory in e2e test
- **bead-feeder-5g3**: Extract issues/dependencies from cloned repo via bd CLI
- **bead-feeder-3fw**: Extract issues/dependencies from DAG view DOM for comparison
- **bead-feeder-hpi**: Compare CLI and DAG data structures in e2e assertion
- **bead-e71**: Fix e2e race condition - wait for issue nodes instead of sync status
- **bead-r4u**: Delete redundant github-login.spec.ts
- **bead-869**: Add playwright tests to ./check script
- **bead-8k7**: Fix DAG dependency edges for remote repos (parse object format dependencies)
- **bead-p5d**: Reduce spacing between issues in DAG view (50→20)
- **bead-2wl**: Show issue detail in modal overlay instead of navigating away
- **bead-b52**: Fix git-service tests corrupting local .git/config by mocking
- **bead-zgj**: Remove slow beads repository detection at startup
- **bead-5a9**: Change DAG layout to horizontal (LR) direction
- **bead-0bl**: Move edge connection points to left/right of cards
- **bead-h0o**: Make DAG cards uniform width (250px)
- **bead-ulz**: Adopt shadcn/ui components (dialog, button, input, badge, etc.)
- **bead-113**: Move chat into CreateIssueModal, remove separate ChatPanel
- **bead-3f5**: Improve edge routing with bezier curves and increased spacing
- **bead-5m0**: Improve DAG card layout - status in header, wider cards (300px)
- **bead-xzu**: Hide DAG minimap
- **bead-uln**: Stretch React Flow to bottom of window using flexbox
- **bead-v9x**: Improve header whitespace and styling
- **bead-248**: Move logout button into user popover menu
- **bead-45p**: Replace issue type icons with text labels
- **bead-gk3**: Remove form-based issue creation, keep only AI chat

## 2026-01-16
- Fixed lint warning in api/fake-chat.ts (string concatenation → template literal)
- Fixed flaky e2e test - SSE streaming race condition by using word-based chunks instead of character-by-character streaming
- Added debug logging to DagView SSE stream processing for troubleshooting
- Made e2e AI chat test more resilient with polling and longer timeout
- **bead-f3w**: Show issue description in detail modal - added description field to IssueNodeData, passed through transformer, displayed in modal
- **bead-hxm**: Use different ports for dev and test servers - created config/ports.ts with DEV_PORTS (5173, 3001) and TEST_PORTS (5174, 3002), updated scripts/dev.ts and scripts/e2e.ts to use these ports, updated vite.config.ts and playwright.config.ts to use port config
- **bead-g7a**: Hide username, show in avatar popover - removed username text from header, now only avatar is visible in main UI with name displayed in popover when clicked
- **bead-okk**: DAG visual improvements - increased horizontal spacing (120→180), decreased vertical spacing (50→30), and muted status label colors (open: #6b9bd1, in_progress: #d4a764, closed: #6bb38a)
- **bead-jzl**: Repository selection on app load - added GET /api/local-repos endpoint to discover beads repositories, created LocalRepoSelector component, updated Home page with mode chooser (Local/GitHub), updated DagView to support local path query parameter, updated e2e test for new flow
- **bead-idk**: Adjust DAG card spacing - changed nodeSpacingX from 180→20 (closer vertically) and nodeSpacingY from 30→200 (wider horizontally)
- **bead-dex**: Rework repository opening flow - removed header from home page, streamlined to two immediate options (Sign in with GitHub / Local Repository), GitHub button triggers OAuth directly when not logged in, repository lists now appear in modal dialogs instead of full pages, added custom path input form for local repos
- **bead-0iz**: Remove Local Repository option - removed Local Repository button and modal from Home.tsx, deleted LocalRepoSelector.tsx component, removed GET /api/local-repos endpoint from server.ts
- **bead-k2p**: Redesign unauthenticated home page - split Home.tsx into separate unauthenticated/authenticated views, added branded landing page with large "Bead Feeder" title, "Keep your agent busy!" tagline, and centered Sign in with GitHub button
- **bead-3nu**: Redirect to home page after sign out - added window.location.href = '/' to logout function in AuthContext.tsx
- **bead-9uf**: Install agent-browser for exploratory testing - added agent-browser as dev dependency, installed Chromium and system dependencies via `bunx agent-browser install --with-deps`
- Fix e2e test edge extraction - changed locator from `.react-flow__edge` to `[aria-label^="Edge from "]` to correctly find React Flow edge elements in the DOM
- **bead-4eh**: Manual e2e verification of sign-in flow using agent-browser - captured all 4 screenshots (landing page, repo selection, issues DAG view, after sign-out) verifying complete OAuth flow works correctly
- **bead-3hc**: Remove 'Select a repository to get started' step from sign-in flow - modified Home.tsx to auto-open repository selection modal when user is authenticated (added useEffect to trigger modal on user state), simplified authenticated view to show same branding as landing page, updated e2e test to expect modal to appear automatically instead of clicking "GitHub Repository" button
- **bead-cth**: Switch Create issues chat to OpenAI - replaced Anthropic SDK with OpenAI SDK in chat endpoint, created api/openai-tools.ts with function calling format, updated server.ts to use gpt-4o model with streaming tool calls, added OPENAI_API_KEY to .env.example, verified with agent-browser manual testing
- **bead-bs2**: Sync issues after LLM chat manipulations - added commitMessage field to ToolExecutionResult, each tool now returns a descriptive commit message, added stageFiles/createCommit/runBdSync functions to git-service.ts, integrated git commit + bd sync after tool execution in server.ts chat endpoint, added unit tests for commit message generation
- **bead-ene**: Add a README - replaced template README with comprehensive project documentation including features, tech stack, installation, configuration, and project structure
- **bead-i3m**: Fix E2E test isolation with root data directory architecture - created api/config.ts with getConfig/getRepoPath/getLocalRepoPath utilities, added BEAD_FEEDER_DATA_DIR environment variable support, added cwd parameter to tool-executor.ts functions, updated server.ts chat endpoint to compute repoWorkDir and pass to tool execution/git operations, updated fake-chat.ts to use cwd for test isolation, modified scripts/e2e.ts to create temp data directory for test isolation (initializes local beads repo in temp dir), updated DagView.tsx to pass owner/repo in chat API calls, removed manual cleanup from e2e test (no longer needed - temp directory is deleted automatically)
- **bead-942**: Remove contact section from README - deleted the "Contact" section (maintainer info) from README.md as it was no longer needed
- **bead-5md**: Update Beads references in README - changed Beads CLI URL from joshcarp/beads to steveyegge/beads in both the intro and prerequisites sections
- **bead-7o2**: Add logging for issue creation failures - added structured logging to tool-executor.ts for all LLM tool operations (create_issue, update_issue, close_issue, add_dependency, remove_dependency) including info logs for operations and error logs with details when failures occur
- **bead-np0**: Fix bd spawn calls missing env: process.env - added `env: process.env` to spawn calls in api/tool-executor.ts (runBdCommand) and api/git-service.ts (runBdSync) so child processes inherit PATH and can find the bd CLI
